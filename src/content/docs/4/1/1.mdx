---
title: 4.1.1. 마크업 오류 방지
description: 마크업 언어의 요소는 열고 닫음, 중첩 관계 및 속성 선언에 오류가 없어야 한다.
outline: { label:false }
lastUpdated: 2025-03-31
draft: true
---
import { Aside, Badge, Card } from '@astrojs/starlight/components';

<Aside title="검사 항목">
마크업 언어의 요소는 열고 닫음, 중첩 관계 및 속성 선언에 오류가 없어야 한다.
</Aside>

## 목적
마크업 오류 방지 검사항목은 브라우저와 보조 기술이 웹 콘텐츠를 올바르게 해석하도록 보장하기 위한 것이다. 기본 마크업 문법(열고 닫힘, 올바른 중첩, 속성 중복 방지)을 준수하면 모든 사용자가 동일한 정보를 정확하게 전달받을 수 있으며, 접근성 및 호환성이 향상된다.

##	배경 및 필요성
HTML 코드에 문법적인 오류가 있거나 표준을 따르지 않은 요소가 포함되어 있다면, 보조 기술이나 브라우저가 이를 해석하는 방식이 달라질 수 있다.

브라우저는 오류를 자동 보완하려 하지만 보완 방식이 브라우저마다 다르고, 보조 기술은 오류를 제대로 처리하지 못할 수 있다. 이에 따라 사용자에게 제공되는 정보가 왜곡되거나 빠질 가능성이 있다. 따라서 콘텐츠를 개발할 때는 반드시 마크업 언어의 표준을 준수하고, 문법 오류가 발생하지 않도록 주의해야 한다.

이를 위해 웹 사이트 개발 과정에서 [W3C Markup Validator](https://validator.w3.org/)를 활용하여 HTML 문법 오류가 없는지 검사하거나, 개발 도구 또는 개발 과정에 구문 검사 도구를 통합하여 정기적으로 확인하는 것이 좋다.

##	기본 규칙
- 여는 태그와 닫는 태그는 반드시 짝을 이루어 작성하며, 태그명이 일치해야 한다.
- 중첩된 요소는 먼저 열린 요소가 나중에 닫혀야 한다. 예를 들어, span 요소 내에 em 요소가 있으면 닫을 때는 먼저 em 요소를 닫고 그 다음 span 요소를 닫는다.
- 동일한 요소에 중복된 속성이 없도록 하며, 특히 id 속성값은 동일 페이지 내에서 유일해야 한다.

## 적용 사례
### 1)	열고 닫는 요소의 정확한 구현
HTML 요소는 `<h3>제목</h3>`처럼 여는 태그와 닫는 태그가 올바르게 작성되어야 하며, 이를 통해 브라우저가 요소의 범위를 정확히 인식할 수 있어야 한다.

여는 태그와 닫는 태그가 일치하지 않거나, 중첩된 요소가 올바른 순서로 닫히지 않으면 브라우저와 보조 기술이 이를 다르게 해석하여 콘텐츠의 의미나 구조가 왜곡될 수 있다.

이러한 오류는 키보드 초점 이동에도 영향을 미칠 수 있다. 특히 a 요소와 같은 상호작용 요소에서 닫는 태그가 누락되면, 초점이 의도치 않은 영역으로 확장되거나, 특정 요소에 초점이 정상적으로 접근하지 못하는 문제가 발생할 수 있다. 

#### a)	요소의 열고 닫는 요소 일치
여는 태그가 있다면 닫는 태그도 함께 작성해야 하며, 태그명은 일치해야 한다.
```html
<h2>마크업 오류 방지</h2>
<h3>열고 닫는 태그의 정확한 구현</h3>
<p>여는 태그와 닫는 태그는 각각 &lt;tag&gt;와 &lt;/tag&gt;로 구현되어야 한다.</p>
```

#### b)	요소 중첩 시 올바른 열기와 닫기 순서 구현
HTML 요소는 중첩 구조를 가지므로, 요소를 열 때와 닫을 때 순서를 반드시 지켜야 한다. 먼저 열린 요소는 나중에 닫히는 방식으로 작성해야 한다.

만약 순서를 지키지 않는다면, 화면낭독프로그램이나 일부 브라우저는 요소의 기능을 올바르게 해석하지 못할 수 있다. 이에 따라 강조 표현이 의도와 다르게 전달되거나, 중첩된 요소가 모두 하나의 스타일로 처리되는 문제가 발생할 수 있다.
```html
<span>
    &lt;span&gt; 태그를 열고 이어서 &lt;em&gt; 태그를 열었다면, 닫을 때는 
    <em>
        &lt;em&gt; 태그를 먼저 닫고,
    </em>
    그다음 &lt;span&gt; 태그를 닫아야 한다.
</span>
```
### 2)	동일한 속성 중복으로 사용 방지
하나의 HTML 요소에 중복된 속성을 지정하지 않도록 해야 한다. 중복된 속성을 사용하면 브라우저가 어떤 값을 적용해야 할지 명확하지 않아, 마지막으로 선언된 값을 적용하거나, 브라우저마다 다르게 처리될 수 있다. 이에 따라 웹 페이지의 동작이 예기치 않게 변경되거나, 보조 기술에서 오류가 발생할 가능성이 있다.

#### a)	중복된 id 방지
페이지 내에서 동일한 id 값이 중복되지 않도록 작성해야 한다.

id가 중복되면, label 요소 연결(예: for 속성)이나 ARIA 속성(예: aria-labelledby, aria-describedby)에서 참조가 올바르게 이루어지지 않아 보조 기술 사용자가 잘못된 정보를 전달받을 수 있다. 또한, CSS 스타일 적용이 의도와 다르게 이루어지거나, JavaScript가 특정 요소를 정확히 참조하지 못하는 문제를 발생시킬 수 있다.

이러한 문제를 방지하기 위해 id는 페이지 내에서 고유하게 설정해야 한다.

```html
<label for="user-id">아이디</label>
<input type="text" id="user-id">
<label for="user-pwd">비밀번호</label>
<input type="password" id="user-pwd">
```

#### b)	속성 중복 사용 방지
하나의 요소에서 동일한 속성을 중복 사용하지 않아야 한다.

동일한 속성이 중복될 경우, 브라우저는 HTML을 해석 과정에서 우선순위를 명확히 판단하지 못해 중복된 값 중 하나만 선택해 적용할 수 있다. 

이에 따라 CSS의 스타일이 의도와 다르게 적용되거나, JavaScript가 특정 속성을 참조할 때 잘못된 값을 가져와 기능이 오작동할 가능성이 있다. 따라서 코드 작성 시 속성 중복 여부를 점검하여 이러한 문제를 방지해야 한다.

```html
<p style="color:red" style="color: blue">공지사항</p>
```

## 개선 필요 사례
### 1)	닫는 요소 누락
다음은 h3 요소의 닫는 태그가 누락되어 이후 내용까지 제목으로 인식하는 사례이다.

Chrome 브라우저는 h3 요소가 닫히지 않았다고 판단하여, 뒤따르는 p 요소와 그 안의 모든 내용을 h3 요소의 일부로 포함한다. 그 결과, '인생의 의미에 대한 탐구'뿐만 아니라 본문 내용까지 모두 제목으로 인식한다. 

```html
<h3>인생의 의미에 대한 탐구
<p>
    인생은 우리가 매일 경험하는 다양한 사건과 감정으로 가득 차 있습니다.
    이러한 경험들은 우리의 성격을 형성하고,
    우리가 세상과 어떻게 상호작용하는지를 결정짓는 중요한 요소입니다.
</p>
```

<figure>
    ![](/images/image266.png)
    <figcaption>이미지. h3 요소의 닫는 태그가 누락된 코드(위쪽)와 Chrome 브라우저에서 처리한 결과 화면 예시</figcaption>
</figure>

#### 개선방안
h3 요소에 닫는 태그를 추가하여 HTML 문법을 준수해야 한다. 닫는 태그를 명확히 작성하면 브라우저가 제목의 범위를 정확히 해석할 수 있고, 콘텐츠가 의도한 대로 렌더링 된다.

```html
<h3>인생의 의미에 대한 탐구</h3>
<p>
    인생은 우리가 매일 경험하는 다양한 사건과 감정으로 가득 차 있습니다.
    이러한 경험들은 우리의 성격을 형성하고,
    우리가 세상과 어떻게 상호작용하는지를 결정짓는 중요한 요소입니다.
</p>
```

### 2)	잘못된 중첩 순서
다음은 중첩된 요소의 열기와 닫기 순서가 잘못된 사례이다. 요소를 열고 닫는 순서가 맞지 않아, 브라우저가 이를 자동으로 수정하여 렌더링하면서 span 요소와 em 요소의 구조가 원래 의도와 다르게 변경되었다.

이로 인해 강조된 텍스트의 범위가 달라지고, 화면낭독프로그램이 이를 정확히 인식하지 못하게 된다. 결과적으로 보조 기술은 강조된 부분을 혼동하거나 중요한 정보를 놓칠 위험이 생긴다.

```html
<span>
	&lt;span&gt; 태그를 열고 이어서 &lt;em&gt; 태그를 열었다면, 닫을 때는
	<em>
		&lt;em&gt; 태그를 먼저 닫고,
	</span>
    그다음 &lt;span&gt; 태그를 닫아야 한다.
</em>
```

<figure>
    ![](/images/image267.png)
    <figcaption>이미지. 열고 닫는 순서가 잘못된 중첩 요소 코드(위쪽)와 Chrome 브라우저에서 처리한 결과 화면 예시</figcaption>
</figure>

#### 개선방안
중첩된 요소의 열고 닫는 순서를 올바르게 작성해야 한다.

`span` 요소 안에 `em` 요소를 중첩하려면 `span` 요소를 먼저 열고 `em` 요소를 연 뒤, 닫을 때는 반대 순서로 em 요소를 먼저 닫고 그다음에 span 요소를 닫아야 한다.

### 3)	한 페이지 내 중복된 id 사용
두 개의 input 요소에 모두 ‘user-id’라는 동일한 id 값이 지정된 사례이다.

이에 따라 화면낭독프로그램이 label 요소의 for 속성을 통해 입력란을 정확히 연결하지 못하고, ‘아이디’와 ‘비밀번호’가 어떤 입력란에 연결되는지 사용자에게 제대로 된 정보를 제공하지 못한다. 

```html
<label for="user-id">아이디</label>
<input type="text" name="user-id" id="user-id">
<label for="user-pwd">비밀번호</label>
<input type="password" name="user-pwd" id="user-id">
<button type="submit">로그인</button>
```

#### 개선방안
각 input 요소에 고유한 id 값을 부여하고, label 요소의 for 속성도 이에 맞게 수정해야 한다.

```html
<label for="user-id">아이디</label>
<input type="text" name="user-id" id="user-id">
<label for="user-pwd">비밀번호</label>
<input type="password" name="user-pwd" id="user-pwd">
<button type="submit">로그인</button>
```

### 4)	속성 중복 사용
한 요소 내 `style` 속성이 중복하여 사용된 사례이다.

브라우저는 중복된 `style` 속성을 처리할 때, 특정 값만 적용하거나 브라우저별로 다르게 동작할 수 있다. 이로 인해 사용자가 의도한 스타일이 일관되게 적용되지 않는 문제가 발생할 수 있다.

마지막 선언 된 값이 적용되는 경우, `display:none`의 영향으로 해당 콘텐츠를 보조 기술이 인식하지 못하게 된다.

```html
<a href="..." style="opacity:0" style="display:none;" ...>... </a>
```

#### 개선방안
동일한 요소 내에서 `style` 속성을 중복 선언하지 않도록 한다.

